{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Bank Management System</title>

    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: white;
        }

        /* NAVBAR */
        .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 40px;
            background: white;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-area img {
            height: 40px;
        }

        .logo-text .title {
            font-size: 18px;
            font-weight: 900;
            color: red;
        }

        .logo-text .sub {
            font-size: 10px;
            color: black;
        }

        .menu {
            display: flex;
            gap: 35px;
        }

        .menu a {
            color: black;
            font-size: 14px;
            font-weight: bold;
            text-decoration: none;
        }

        .login-btn {
            background: red;
            color: white;
            padding: 8px 20px;
            border-radius: 4px;
            font-weight: bold;
            text-decoration: none;
        }

        /* HEADER */
        .header-container {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 60px;
            padding: 40px 0;
        }

        .logo-img {
            width: 130px;
            height: 125px;
            object-fit: contain;
        }

        .center-text {
            display: flex;
            flex-direction: column;
        }

        .bloodbank-text {
            font-size: 48px;
            font-weight: 700;
            color: #E60000;
            margin: 0;
        }

        .bloodbank-text span {
            color: black;
        }

        .management-text {
            font-size: 26px;
            font-weight: 700;
            margin-top: -5px;
        }

        .illustration-img {
            width: 280px;
            height: 222px;
            object-fit: contain;
        }

        /* OPTIONS */
        .option-container {
            display: flex;
            justify-content: center;
            gap: 35px;
            margin-top: 30px;
            margin-bottom: 40px;
        }

        .option-box {
            width: 220px;
            height: 140px;
            background: #c60000;
            border-radius: 12px;
            text-align: center;
            color: white;
            padding-top: 20px;
            cursor: pointer;
            transition: 0.2s;
        }

        .option-box:hover {
            background: #ff0000;
            transform: scale(1.05);
        }

        .option-box img {
            width: 48px;
            margin-bottom: 10px;
        }

        .option-title {
            font-size: 14px;
            font-weight: bold;
        }

        /* CAROUSEL */
        .carousel-wrap {
            max-width: 1100px;
            margin: 25px auto;
            position: relative;
            overflow: hidden;
            border: 2px solid #0092ff;
            border-radius: 4px;
        }

        .carousel-slide {
            display: none;
            width: 100%;
        }

        .option-box img {
            width: 98px;
            /* fixed width */
            height: 53px;
            /* fixed height */
            object-fit: contain;
            /* auto-fit without cutting */
            display: block;
        }

        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.45);
            color: #fff;
            border: none;
            padding: 8px 12px;
            font-size: 24px;
            cursor: pointer;
        }

        .prev-btn {
            left: 12px;
        }

        .next-btn {
            right: 12px;
        }

        .carousel-dots {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .carousel-dots button {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            border: none;
            background: rgba(255, 255, 255, 0.6);
        }

        .carousel-dots button.active {
            background: #fff;
        }

        .fade-in {
            animation: fade 0.8s;
        }

        @keyframes fade {
            from {
                opacity: 0;
                transform: translateY(6px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* WRAPPER TO CENTER EVERYTHING */
        .blood-container {
            width: 100%;
            display: flex;
            justify-content: center;
        }

        /* FIXED-WIDTH INNER BOX (MATCHES YOUR EXACT DESIGN) */
        .blood-section {
            width: 700px;
            /* important */
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin: 40px 0;
        }

        /* LEFT IMAGE */
        .donate-img {
            width: 219px;
            height: 237px;
            object-fit: contain;
        }

        /* RIGHT SIDE IMAGE */
        .compat-img {
            width: 362px;
            height: 255px;
            display: block;
            margin: 0 auto 20px auto;
        }

        /* TEXT BOX */
        .types-box {
            width: 627px;
            padding: 50px;
            background: #ffffff;
            font-family: Arial, sans-serif;
            margin: 0 auto;
            /* center the box */
        }

        /* Center heading */
        .types-box h3 {
            text-align: left;
            margin-bottom: 15px;
        }

        /* Center paragraph */
        .types-box p {
            font-size: 15px;
            line-height: 1.6;
            text-align: left;
            /* correct */
        }

        .stay-section {
            margin-top: 40px;
            width: 100%;
            display: flex;
            background: red;
            padding: 30px 20px;
            align-items: center;
            justify-content: space-between;
            color: white;
        }

        .stay-left {
            display: flex;
            flex-direction: column;
            width: 25%;
        }

        .stay-left input {
            width: 140px;
            padding: 6px;
            border: none;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        .submit-btn {
            width: 80px;
            padding: 4px 10px;
            font-size: 11px;
            background: white;
            color: black;
            border-radius: 10px;
            font-weight: bold;
            border: none;
        }

        .stay-center {
            display: flex;
            gap: 30px;
        }

        .big-btn {
            display: inline-block;
            background: #fff;
            padding: 10px 25px;
            border-radius: 20px;
            text-align: center;
            color: black;
            font-weight: bold;
            text-decoration: none;
            font-size: 14px;
        }

        .stay-right img {
            width: 360px;
            height: auto;
        }
    </style>
</head>

<body>

    <!-- NAVBAR -->
    <div class="navbar">
        <div class="logo-area">
            <img src="{% static 'home/logo.png' %}">
            <div class="logo-text">
                <div class="title">BLOOD BANK</div>
                <div class="sub">MANAGEMENT SYSTEM</div>
            </div>
        </div>

        <div class="menu">
            <a href="/">HOME</a>
            <a href="/request/">REQUEST BLOOD</a>
            <a href="/donate/">DONATE BLOOD</a>
            <a href="/about/">ABOUT US</a>
        </div>

        <!-- Right Side User Icon -->
        {% if user.is_authenticated %}
        <a class="login-btn" href="/profile/">
            <img src="{% static 'home/user-icon.png' %}" width="35">
        </a>
        {% else %}
        <a class="login-btn" href="{% url 'login' %}">
            <img src="{% static 'home/user-icon.png' %}" width="35">
        </a>
        {% endif %}
    </div>

    <!-- HEADER -->
    <div class="header-container">
        <img src="{% static 'home/logo1.png' %}" class="logo-img">
        <div class="center-text">
            <h1 class="bloodbank-text">BLOOD <span>BANK</span></h1>
            <p class="management-text">MANAGEMENT SYSTEM</p>
        </div>
        <img src="{% static 'home/illustration.png' %}" class="illustration-img">
    </div>

    <!-- OPTIONS -->
    <div style="text-align:center; margin-top:20px;">
        <h2>GIVE BLOOD, GIVE PLASMA, SHARE LIFE, SHARE OFTEN</h2>
    </div>

    <div class="option-container">

        <a href="{% url 'blood_availability' %}">
            <div class="option-box">
                <img src="{% static 'home/box1.png' %}">
                <div class="option-title">BLOOD AVAILABILITY<br>SEARCH</div>
            </div>
        </a>

        <a href="{% url 'blood_types' %}">
            <div class="option-box">
                <img src="{% static 'home/box2.png' %}">
                <div class="option-title">BLOOD TYPES AND<br>DETAILS</div>
            </div>
        </a>

        <a href="{% url 'search_donor' %}">
            <div class="option-box">
                <img src="{% static 'home/box3.png' %}">
                <div class="option-title">SEARCH FOR<br>BLOOD DONOR</div>
            </div>
        </a>

        <a href="{% url 'register_volunteer' %}">
            <div class="option-box">
                <img src="{% static 'home/box4.png' %}">
                <div class="option-title">REGISTER AS A<br>VOLUNTEER</div>
            </div>
        </a>

    </div>

    <!-- CAROUSEL -->
    <div class="carousel-wrap">

        <div class="carousel-slide">
            <img src="{% static 'home/c1.png' %}" style="width:718px; height:226px;">
        </div>

        <div class="carousel-slide">
            <img src="{% static 'home/c2.png' %}" style="width:459px; height:226px;">
        </div>

        <button class="carousel-btn prev-btn">‹</button>
        <button class="carousel-btn next-btn">›</button>

        <div class="carousel-dots"></div>
    </div>

    <!-- CAROUSEL SCRIPT -->
    <script>
        (function () {
            const slides = Array.from(document.querySelectorAll('.carousel-slide'));
            if (!slides.length) return;

            let idx = 0;
            let timer = null;
            const autoplayDelay = 2500;

            const dotsContainer = document.querySelector('.carousel-dots');
            slides.forEach((s, i) => {
                const btn = document.createElement('button');
                btn.addEventListener('click', () => { showSlide(i); resetTimer(); });
                dotsContainer.appendChild(btn);
            });

            const dots = Array.from(dotsContainer.querySelectorAll('button'));

            function showSlide(i) {
                slides.forEach(s => { s.style.display = 'none'; s.classList.remove('fade-in'); });
                dots.forEach(d => d.classList.remove('active'));

                idx = (i + slides.length) % slides.length;
                const cur = slides[idx];
                cur.style.display = 'block';
                void cur.offsetWidth;
                cur.classList.add('fade-in');

                dots[idx].classList.add('active');
            }

            document.querySelector('.prev-btn')
                .addEventListener('click', () => { showSlide(idx - 1); resetTimer(); });

            document.querySelector('.next-btn')
                .addEventListener('click', () => { showSlide(idx + 1); resetTimer(); });

            function startTimer() {
                timer = setInterval(() => { showSlide(idx + 1); }, autoplayDelay);
            }

            function resetTimer() {
                if (timer) clearInterval(timer);
                startTimer();
            }

            const wrap = document.querySelector('.carousel-wrap');
            wrap.addEventListener('mouseenter', () => { if (timer) clearInterval(timer); });
            wrap.addEventListener('mouseleave', () => { resetTimer(); });

            showSlide(0);
            startTimer();
        })();
    </script>
    <div class="blood-container">
        <div class="blood-section">

            <div class="left-box">
                <img src="{% static 'home/donate.png' %}" alt="Donate Blood" class="donate-img">
            </div>

            <div class="right-box">
                <img src="{% static 'home/blood_type.png' %}" alt="Blood Type Compatibility" class="compat-img">

                <div class="types-box">
                    <h3>TYPES OF DONATION</h3>
                    <p>
                        The average human body contains about five liters of blood, which is made of several cellular
                        and non-cellular components such as Red blood cell, Platelet, and Plasma. <br><br>
                        Each type of component has its unique properties and can be used for different indications.
                        The donated blood is separated into these components by the blood centre and one donated unit
                        can save upto four lives depending on the number of components separated from your blood.
                    </p>
                </div>
            </div>

        </div>
    </div>
    <!-- STAY WITH US SECTION -->
    <div class="stay-section">

        <!-- LEFT SIDE FORM -->
        <div class="stay-left">
            <h3>Stay With Us</h3>

            <form action="/stay-contact/" method="POST">
                {% csrf_token %}

                <label>Email</label>
                <input type="email" name="email" placeholder="Email" required>

                <label>Phone No</label>
                <input type="text" name="phone" placeholder="Phone Number" required>

                <button class="submit-btn" type="submit">SUBMIT</button>
            </form>
        </div>


        <!-- CENTER BUTTONS -->
        <div class="stay-center">
            <a href="/register-donor" class="big-btn">Register As a <br> DONOR</a>
            <a href="{% url 'request' %}" class="big-btn">Request Blood</a>
        </div>

        <!-- RIGHT SIDE IMAGE -->
        <div class="stay-right">
            <img src="/static/home/stay.png" alt="Blood Image">
        </div>

    </div>

</body>

</html>